<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>调度系统 | Xieydd&#39;s Blog</title>
  <meta name="description" content="AI Infra Engineer&#39;s Blog">
  
  
  <meta property="og:title" content="调度系统">
  <meta property="og:description" content="AI Infra Engineer&#39;s Blog">
  <meta property="og:type" content="article">
  <meta property="og:url" content="https://blog.xieydd.top/scheduler/">
  
  
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="调度系统">
  <meta name="twitter:description" content="AI Infra Engineer&#39;s Blog">
  
  
  <link rel="icon" href="/favicon-32x32.png">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  
  
  <link rel="stylesheet" href="/css/style.css">
  
  
  <style>
    @font-face {
      font-family: 'Monaco';
      src: local('Monaco'), local('Menlo'), local('Consolas');
      font-display: swap;
    }
  </style>
  
  
</head>
<body class="antialiased">
  <div class="container">
    <header class="site-header">
      <div class="language-switcher">
  
  
    
      <span class="lang-current">中文</span>
    
  
    
      
      
      
        
          <a href="/en/" class="lang-link">EN</a>
        
      
    
  
</div>

    </header>
    <main class="content">
      
<article class="post">
  <header class="post-header">
    <h1 class="post-title">调度系统</h1>
    <div class="post-meta">
      <time datetime="2023-02-02">2023-02-02</time>
      
      <span class="post-author">by xieydd</span>
      
      
      <span class="reading-time">2 min read</span>
      
    </div>
    
    <div class="post-tags">
      
      <a href="https://blog.xieydd.top/tags/scheduler" class="tag">#scheduler</a>
      
      <a href="https://blog.xieydd.top/tags/kubernetes" class="tag">#kubernetes</a>
      
    </div>
    
  </header>

  
  <nav class="toc">
    <h2>目录</h2>
    <nav id="TableOfContents">
  <ul>
    <li><a href="#调度的目的什么是调度系统">调度的目的(什么是调度系统)</a></li>
    <li><a href="#调度器分类以及常见调度器">调度器分类以及常见调度器</a>
      <ul>
        <li><a href="#单体式调度器">单体式调度器</a></li>
        <li><a href="#两层调度器">两层调度器</a></li>
        <li><a href="#状态共享调度器">状态共享调度器</a></li>
      </ul>
    </li>
    <li><a href="#工作中使用的调度器">工作中使用的调度器</a></li>
    <li><a href="#一些思考">一些思考🤔</a></li>
  </ul>
</nav>
  </nav>
  

  <div class="post-content">
    <p>最近在进行晋级答辩(已失败 :&lt;)，主题还是去年做了一些调度方面的工作，借此机会对调度系统进行一些高维度的思考，在此记录下，如有不足之处，还望看官大人指出。</p>
<h2 id="调度的目的什么是调度系统">调度的目的(什么是调度系统)</h2>
<p>调度的目的其实是在满足资源需求的前提下，提升资源利用率、稳定性、以及性能（吞吐、延迟）等。不同层次都有调度的问题需要解决，微架构下的指令调度，OS 层面的线程调度，集群层面的任务调度等。
例如 PL(编程语言)中的内存管理系统其实也是个调度系统，C 需要手动的 malloc 申请内存，free 释放内存，手动分配带来了很多问题。比如内存分配到栈还是堆，什么时候需要释放，悬挂指针、内存泄漏等问题。为了更加有效的管理内存分配，现代编程语言都垃圾回收期以及内存分类器来自动的管理内存，比如 rust 通过 borrow checker、ownership、borrow 来管理并确保跨堆栈和堆的内存管理。</p>
<h2 id="调度器分类以及常见调度器">调度器分类以及常见调度器</h2>
<p>按照调度时机可以分为首次调度和运行时调度（也叫重调度），我们见到的大部分调度器都是首次调度。
针对调度器的架构，可分为单体(Monolithic)调度器、两层调度器、状态共享调度器这三类。</p>
<figure>
    <img src="scheduler-architect-items.png"/> <figcaption>
            <h4>调度器分类 (figure 1)</h4>
        </figcaption>
</figure>

<h3 id="单体式调度器">单体式调度器</h3>
<p>首先单体式调度器的资源请求、任务调度、任务状态、资源状态都是通过该实例进行管理和同步的。OS 进程、线程调度，Hadoop YARN 调度器以及 Kubernetes 原生调度器都属于此类调度器。</p>
<h3 id="两层调度器">两层调度器</h3>
<h3 id="状态共享调度器">状态共享调度器</h3>
<h2 id="工作中使用的调度器">工作中使用的调度器</h2>
<h2 id="一些思考">一些思考🤔</h2>

  </div>

  <footer class="post-footer">
    <div class="post-nav">
      
      <a href="https://blog.xieydd.top/kubernetes-topo-aware-all-you-need-know/" class="prev-post">&larr; 关于 Kubernetes 中，拓扑感知你需要知道的一切</a>
      
      
      <a href="https://blog.xieydd.top/postgres-ha/" class="next-post">Postgres 高可用 &rarr;</a>
      
    </div>
    
    <a href="https://blog.xieydd.top/" class="back-home">&larr; 返回首页</a>
  </footer>
</article>

    </main>
  </div>
</body>
</html>
