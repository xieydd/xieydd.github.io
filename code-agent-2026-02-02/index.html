<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Coding at Agent-Speed | Xieydd&#39;s Blog</title>
  <meta name="description" content="My journey and thoughts on using Code Agent.">
  
  
  <meta property="og:title" content="Coding at Agent-Speed">
  <meta property="og:description" content="My journey and thoughts on using Code Agent.">
  <meta property="og:type" content="article">
  <meta property="og:url" content="https://blog.xieydd.top/code-agent-2026-02-02/">
  
  
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Coding at Agent-Speed">
  <meta name="twitter:description" content="My journey and thoughts on using Code Agent.">
  
  <link rel="icon" href="/favicon-32x32.png">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  
  <link rel="canonical" href="https://blog.xieydd.top/code-agent-2026-02-02/">
  
  
  <link rel="alternate" hreflang="zh-cn" href="https://blog.xieydd.top/code-agent-2026-02-02/">
  
  <link rel="alternate" hreflang="en" href="https://blog.xieydd.top/en/code-agent-2026-02-02/">
  

  <link rel="stylesheet" href="/css/style.css">
  
  
  <meta name="view-transition" content="same-origin">
  
  
  <style>
    @font-face {
      font-family: 'Monaco';
      src: local('Monaco'), local('Menlo'), local('Consolas');
      font-display: swap;
    }
  </style>
  
  
</head>
<body class="antialiased">
  <div class="container">
    <header class="top-nav">
      <a href="https://blog.xieydd.top/" class="site-name">xieydd</a>
      <nav class="nav-links">
        
        <a href="https://blog.xieydd.top/posts/">文章</a>
        <a href="https://blog.xieydd.top/about/">关于</a>
        
        <div class="nav-icons">
          <button id="theme-toggle" class="theme-toggle" title="Toggle dark mode" aria-label="Toggle dark mode">
            <svg class="icon-moon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
            </svg>
            <svg class="icon-sun" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <circle cx="12" cy="12" r="5"></circle>
              <line x1="12" y1="1" x2="12" y2="3"></line>
              <line x1="12" y1="21" x2="12" y2="23"></line>
              <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
              <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
              <line x1="1" y1="12" x2="3" y2="12"></line>
              <line x1="21" y1="12" x2="23" y2="12"></line>
              <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
              <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
            </svg>
          </button>
          <div class="language-switcher">
  
  
    
  
    
      
      
      
        
          <a href="https://blog.xieydd.top/en/code-agent-2026-02-02/" class="lang-link">EN</a>
          
        
      
      
      
    
  
</div>
        </div>
      </nav>
    </header>
    <div class="nav-divider"></div>
    <main class="content swup-transition-main" id="swup">
      
<div class="reading-progress" id="reading-progress"></div>
<article class="post">
  <header class="post-header">
    <h1 class="post-title" style="view-transition-name: index.zh-cn">Coding at Agent-Speed</h1>
    <div class="post-meta">
      <span>发布于 2 Feb, 2026</span>
      <span>• 6 min read</span>
    </div>
  </header>

  
  <nav class="toc">
    <h2>目录</h2>
    <nav id="TableOfContents">
  <ul>
    <li><a href="#vs-code---cursor---gemini---vs-code---codex---vs-code---claude-code---opencode---ohmyopencode---vs-code">VS Code -> Cursor -> Gemini -> VS Code -> Codex -> VS Code -> Claude Code -> OpenCode -> OhMyOpenCode -> VS Code</a></li>
    <li><a href="#thoughts">Thoughts</a></li>
    <li><a href="#next-step">Next Step</a></li>
  </ul>
</nav>
  </nav>
  

  <div class="post-content">
    <p>最近我在使用 Code Agent 高强度地构建一款安全领域的套件——基于 eBPF 以及 PostgreSQL 构建的企业级 LLM Security Insight 平台。其中涉及到的技术栈有 eBPF, React, Go, Docker, Kubernetes, PostgreSQL, DuckDB。我可能只对其中一部分技术有过使用经验或了解，但在之前的 AI Infra 领域，有些技术我从未涉足，比如 React、eBPF、DuckDB 等。我将在第一篇 Code Agent 使用感想中多谈谈自己的使用感受以及延伸思考，后续的其他类似文章可能就简单写写有什么变化了。</p>
<h2 id="vs-code---cursor---gemini---vs-code---codex---vs-code---claude-code---opencode---ohmyopencode---vs-code">VS Code -&gt; Cursor -&gt; Gemini -&gt; VS Code -&gt; Codex -&gt; VS Code -&gt; Claude Code -&gt; OpenCode -&gt; OhMyOpenCode -&gt; VS Code</h2>
<p>我是一个 VS Code 的老用户，使用多年了。虽然我对 IDE 没有很深的研究，但我个人觉得它还是挺好用的。最开始使用的 Code Agent 是 VS Code Copilot，但最初版本的 Copilot 功能很简单：指定你要修改的文件，说明你想怎么改，Copilot 生成代码 Patch/Diff，VS Code 帮你把 Patch 打到你编辑的文件中。这个时候的 Code Agent 其实不能叫 Agent，充其量叫 Code Assistant，是一种结对编程的方式。一开始你会觉得很自然，因为习惯了代码提示以及结对编程，在自己熟悉的领域你会用得很舒服，觉得编程就应该是这种方式。</p>
<p>但是 2025 年 3、4 月份的时候突然接触到了 Cursor 这个 IDE。当然 Cursor 还是从 VS Code 的某一个版本 Fork 的，但是在一些细节上让我觉得跟之前是不一样的，是不一样的产物。例如多文件编辑以及 Agent 模式。最开始其实 Agent 模式以及多文件编辑让很多人嗤之以鼻，因为用户习惯了结对编程，而多文件编辑造成开发者的 Review 时间变长，且受制于模型能力，那个时候的代码生成能力还不能让用户放心地在不 Review 的情况下 Approve 代码。但是 Cursor 敢为天下先，虽然我不清楚它是不是第一个做的，但是是我第一个知道这样做的。随着 LLM 能力的提升，尤其是 Claude 专门为代码优化的 Sonnet 系列模型，让 Cursor 彻底癫狂。突然想起一个小插曲，2025 年 1 月份的时候 Cursor 的 Co-founder <a href="https://www.sualehasif.me/">Sualeh Asif</a> 还给我们团队的工程师 <a href="https://blog.mapotofu.org/">keming</a> 发了一封邮件，想沟通下我们之前做的可复现开发环境 Infra 工具 <a href="https://github.com/tensorchord/envd">envd</a>。可见当时 Cursor 已经预见到大规模 Agent 运行时会遇到一致性的问题，后续我们也从 Sualeh 那里得知他们已经在代码检索中使用了向量数据库以及 <a href="https://turbopuffer.com/">Turbopuffer</a> 以适应多租户场景。不过我确实没用 Cursor 太长时间，因为在其用户量暴增导致免费额度锐减后，我没有合适的信用卡来进行订阅，哈哈。</p>
<p><img src="Xnip2026-02-02_19-57-32.jpg" alt="cursor-email" /></p>
<p>后来 Gemini CLI 来了。主要还是 Google 海量的资源以及强大的 Infra 让其可以通过提供免费且强大的 Gemini Token 获取大量新用户，我也是其中之一。但是当时我还在负责一个存量业务 <a href="https://cloud.vectorchord.ai">VectorChord Cloud</a>，所以基本上我只是让 Gemini 帮我解决很小的问题，比如 Fix 一个 Corner Case 或者写一个 Test 文件。因为我对于项目的代码很清楚，所以我这个人肉上下文（Context）可以很好地工作。但是截止到这里，我还是没有 Agent 的感觉，依然是结对编程。</p>
<p>但是 Gemini CLI 给的 Quota 让我很难再继续使用，我又转战回 VS Code 了。因为 GitHub 给了我 Copilot 的免费订阅，而且我惊喜地发现 VS Code 也有 Agent 模式，并且支持不同厂商的模型，例如 OpenAI 的 GPT 系列、Claude 的 Sonnet 系列以及 Google 家的 Gemini 系列。而且给到的 Enterprise 订阅 Quota 足够我当时使用。但是我更多的是使用多文件编辑，而不是自动 Approve 的方式，我对于每一行修改的代码还是做到心中有数。</p>
<p>在这个时间段，我基本还是用 Agent 帮我实现一些简单的工具、脚本或者代码 Fix。直到大概 8 月份我们做一些安全方向探索的时候，我才蹑手蹑脚地敢于让 Agent 实现完整的项目级代码。</p>
<p>忘记哪一天突然发现 Claude Code 在朋友们的口中口口相传，我切换到了 Claude Code。但是发现 Claude 这个浓眉大眼的家伙对于 Region 的限制太厉害了，导致我根本无法使用。我只有通过特殊途径搞到了 Claude 模型的 Token。后来 GLM 出来后，大家反映代码能力以及工具调用能力很强，所以搞了个 <a href="https://www.bigmodel.cn/glm-coding?ic=IXRWFAIDIR">GLM</a> 的订阅，然后丝滑地用上了 Claude Code。在 Claude Code 上我才真正体会到了 Agent 的感觉：一个是模型的飞跃导致编写的代码和设计文档质量很高；另外是 Claude Code 的 Plan、Auto 以及 Edit 模式的切换很丝滑，让我可以有规划、有节奏地实现一个目标。对于文章开头提到的项目，我基本上是用 Agent 的方式来完成的，大概分为以下步骤：</p>
<ol>
<li>维护一个 Context 文件夹，里面放置所有相关的调研文档、设计文档、以及工具代码等。</li>
<li>让 Agent 和我一起精调设计文档，确定技术选型、架构设计等。</li>
<li>让 Agent 帮我写一些简单的验证性代码，验证一些方案的可行性。</li>
<li>让 Agent 完整实现代码。</li>
<li>初版代码完成后，通过 Git Worktree 的方式让 Agent 帮我修复 Bug 以及完善功能，但还是有很多限制：
<ul>
<li>数据库字段的变更不能通过这种方式，因为我在本地使用 Docker 运行 PostgreSQL，无法支持并发的 Schema 变更。</li>
<li>其实对 Git 我有点不放心，害怕误操作删除了一些已经调教很久的代码，但是这个心智负担越来越小，毕竟 Agent 代码生成的质量越来越高，而且拥有已经实现代码的记忆。</li>
</ul>
</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$  ls ~/llm-observability/context
agent-protocol-research.md  analyze.sql  llm_prompt_injection_analyzer_pg.py  llm_semantic_analyzer_pg.py  pencil-designs  security-product-research.md  why-infer-root-exec-id.md
analyze-pg.sql              designs      llm_prompt_injection_analyzer.py     llm_semantic_analyzer.py     __pycache__     watchu-desktop
$  ls ~/llm-observability/context/designs
0.3.0.md          analyze.md       claude-code-json.md  frontend.md     mcp.md                skill-security-saas-mvp.md  streaming-ingestion-analytics-service.md
analyze-0.2.0.md  architecture.md  codex-json.md        gemini-json.md  openai-compatible.md  skills-security-design.md
</code></pre></td></tr></table>
</div>
</div><p>后来在推特上我发现大家对于 OpenCode 的口碑不错，所以简单试用了下，还不错。后来 OhMyOpenCode 插件在 X 上火了起来，我也试用了下，发现 OhMyOpenCode 对于拥有很多厂商模型的用户来说是一件好事。这也是我在使用 Agent 后一个感受，明显感觉审美上 GPT-5.2-Codex &gt; Gemini-3 Pro &gt; Claude Opus 4.5 &raquo; GLM 4.7；Plan 能力上 Claude Opus 4.5 断档领先；Code 上 Claude Sonnet 4.5 以及 GLM 4.7 是不错的选择；Debug 上 Claude Opus/Sonnet 4.5 以及 GLM 4.7 都可以。这样不同模型在不同领域的优势互补，可以更好的完成工作。但是问题就是模型是在迭代的，这表明我既需要关注模型的更新迭代，同时也需要关注插件的更新迭代，还得有多个模型的订阅，这就让我觉得有点力不从心了。</p>
<p>最后由于我一直通过 VS Code Remote 到我的开发机进行工作，所以类似 Agent Orchestration 类的开发工具（例如 <a href="https://www.conductor.build/">Conductor</a>）我没怎么使用过。而且很多情况下我需要给 Agent 输入图片，而我比较喜欢的 Agent 工具 Claude Code、Codex 现在都在 VS Code 上有了官方的 Extension，所以我最后还是回到了 VS Code 上来进行工作。</p>
<p><img src="Xnip2026-02-04_15-32-13.jpg" alt="vscode" /></p>
<p>至于 Global Context 这块，我目前是参照 <a href="https://gist.github.com/Xuanwo/fa5162ed3548ae4f962dcc8b8e256bed">Xuanwo</a> 的实践，然后在日常工作中摸索出来一些 Trick 就加进去，这个后续再分享吧。</p>
<h2 id="thoughts">Thoughts</h2>
<p>上面简要写了下我最近一年使用 Code Agent 的一些经历，有了以下的思考和观点：</p>
<ul>
<li><strong>Fork 功能是刚需</strong>：
<ul>
<li><strong>代码和文件级别</strong>：被 Git 类工具解决了。</li>
<li><strong>运行环境级别</strong>：小规模个人用户的需求已经被 Docker/envd 等容器或者虚拟化工具解决了，但是大规模运行环境的调度目前还没有很好的解决方案。可能 Unikernel 是一个好的方向，但是目前的（例如 Firecracker）还不足以满足现在大规模 Agent 运行时的需求。</li>
<li><strong>数据库级别</strong>：数据库 ACID 特性本质上是很难 Fork 的，尤其是大规模的分布式数据库。一旦涉及到 Fork 必然出现冗余数据以及一致性的问题，这也是 PostgreSQL 这类单体数据库的优势所在。你可以很简单地通过一些工具（例如 <a href="https://piglet.run/docs/concept/snapshot/">piglet</a> 通过 PG 的 PITR (Point-in-Time Recovery) 以及 JuiceFS Snapshot）来实现数据库的 Fork。</li>
</ul>
</li>
<li><strong>多模型协同工作是未来的趋势</strong>：不同模型在不同领域有不同的优势，未来的 Code Agent 工具需要支持多模型的无缝切换以及协同工作。</li>
<li><strong>利用好 Skill 的 Best Practice 以及 MCP 的连接能力提升整体的生产力</strong>。</li>
<li><strong>Context 或者说 Memory 的演进以及共享是未来 Code Agent 的重要方向</strong>。</li>
<li><strong>未来已经到来，All in AI</strong>。</li>
</ul>
<h2 id="next-step">Next Step</h2>
<p>后续我可能会进一步优化我的 Code Agent 使用体验，主要从以下几个方面入手：</p>
<ul>
<li>配置更高的 Mac 作为开发机。</li>
<li>把一切都自动化，配置 DNS、注册域名、Agent Notification 等等。</li>
<li>探索更好的 Global Context 以及 Memory 管理方案。</li>
<li>研究下大规模 Agent 运行时的 Infra 方案。</li>
</ul>

  </div>

  <footer class="post-footer">
    <div class="post-footer-divider"></div>

    
    <div class="post-tags">
      
      <a href="https://blog.xieydd.top/tags/code-agent" class="tag">#Code Agent</a>
      
      <a href="https://blog.xieydd.top/tags/vs-code" class="tag">#VS Code</a>
      
      <a href="https://blog.xieydd.top/tags/claude-code" class="tag">#Claude Code</a>
      
      <a href="https://blog.xieydd.top/tags/opencode" class="tag">#OpenCode</a>
      
      <a href="https://blog.xieydd.top/tags/workflow" class="tag">#Workflow</a>
      
    </div>
    

    <div class="share-section">
      <span class="share-label">分享到:</span>
      <div class="share-buttons">
        <a href="https://x.com/intent/post?url=https%3a%2f%2fblog.xieydd.top%2fcode-agent-2026-02-02%2f" target="_blank" rel="noopener noreferrer" class="share-btn" title="Share on X">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M4 4l11.733 16h4.267l-11.733 -16z" />
            <path d="M4 20l6.768 -6.768m2.46 -2.46l6.772 -6.772" />
          </svg>
        </a>
        <a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3a%2f%2fblog.xieydd.top%2fcode-agent-2026-02-02%2f" target="_blank" rel="noopener noreferrer" class="share-btn" title="Share on LinkedIn">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M8 11v5" />
            <path d="M8 8v.01" />
            <path d="M12 16v-5" />
            <path d="M16 16v-3a2 2 0 1 0 -4 0" />
            <path d="M3 7a4 4 0 0 1 4 -4h10a4 4 0 0 1 4 4v10a4 4 0 0 1 -4 4h-10a4 4 0 0 1 -4 -4z" />
          </svg>
        </a>
        <a href="mailto:?subject=Coding%20at%20Agent-Speed&body=https%3a%2f%2fblog.xieydd.top%2fcode-agent-2026-02-02%2f" class="share-btn" title="Share via Email">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M3 7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-10z" />
            <path d="M3 7l9 6l9 -6" />
          </svg>
        </a>
      </div>
    </div>

    <a href="#" class="back-to-top">返回顶部</a>

    <div class="post-footer-divider"></div>

    <div class="post-nav">
      
      <a href="https://blog.xieydd.top/vector-search/" class="prev-post">
        <span class="nav-label">上一篇</span>
        <span class="nav-title">向量数据库中的门门道道</span>
      </a>
      
      
      <a href="https://blog.xieydd.top/kubernetes-topo-aware-all-you-need-know/" class="next-post">
        <span class="nav-label">下一篇</span>
        <span class="nav-title">关于 Kubernetes 中，拓扑感知你需要知道的一切</span>
      </a>
      
    </div>
  </footer>
</article>

    </main>
  </div>
  <script src="/js/code-copy.js"></script>
  <script src="https://unpkg.com/swup@4"></script>
  <script>
    (function() {
      function initThemeToggle() {
        var toggle = document.getElementById('theme-toggle');
        var html = document.documentElement;
        var stored = localStorage.getItem('theme');
        if (stored === 'dark' || (!stored && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
          html.classList.add('dark');
        }
        if (toggle) {
          toggle.addEventListener('click', function() {
            html.classList.toggle('dark');
            localStorage.setItem('theme', html.classList.contains('dark') ? 'dark' : 'light');
          });
        }
      }

      function initReadingProgress() {
        var progress = document.getElementById('reading-progress');
        if (!progress) return;
        function updateProgress() {
          var scrollTop = window.scrollY || document.documentElement.scrollTop;
          var docHeight = document.documentElement.scrollHeight - window.innerHeight;
          var percent = docHeight > 0 ? (scrollTop / docHeight) * 100 : 0;
          progress.style.width = percent + '%';
        }
        window.removeEventListener('scroll', updateProgress);
        window.addEventListener('scroll', updateProgress);
        updateProgress();
      }

      function initBackToTop() {
        var backToTop = document.querySelector('.back-to-top');
        if (backToTop) {
          backToTop.addEventListener('click', function(e) {
            e.preventDefault();
            window.scrollTo({ top: 0, behavior: 'smooth' });
          });
        }
      }

      initThemeToggle();
      initReadingProgress();
      initBackToTop();

      var swup = new Swup({
        animationSelector: '[class*="swup-transition-"]',
        containers: ['#swup', '.top-nav'],
        cache: true
      });

      swup.hooks.on('content:replace', function() {
        initThemeToggle();
        initReadingProgress();
        initBackToTop();
        
        document.querySelectorAll('.highlight').forEach(block => {
          if (!block.closest('.code-block-wrapper')) {
            const header = document.createElement('div');
            header.className = 'code-header';

            const controls = document.createElement('div');
            controls.className = 'window-controls';
            ['red', 'yellow', 'green'].forEach(color => {
              const dot = document.createElement('span');
              dot.className = 'window-dot ' + color;
              controls.appendChild(dot);
            });
            header.appendChild(controls);

            let langName = '';
            const code = block.querySelector('code[data-lang]');
            if (code) {
              langName = code.getAttribute('data-lang');
            } else {
              const codeClass = block.querySelector('code');
              if (codeClass) {
                const match = codeClass.className.match(/language-(\w+)/);
                if (match) langName = match[1];
              }
            }

            if (langName) {
              const langLabel = document.createElement('span');
              langLabel.className = 'lang-label';
              langLabel.textContent = langName;
              header.appendChild(langLabel);
            }

            const copyBtn = document.createElement('button');
            copyBtn.className = 'copy-btn';
            copyBtn.innerHTML = `
              <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
              </svg>
              <span>Copy</span>
            `;

            copyBtn.addEventListener('click', async () => {
              let codeText = '';
              const table = block.querySelector('table');
              if (table) {
                const codeTd = table.querySelector('td:last-child');
                if (codeTd) codeText = codeTd.innerText;
              } else {
                codeText = block.querySelector('code').innerText;
              }

              try {
                await navigator.clipboard.writeText(codeText);
                copyBtn.innerHTML = `
                  <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-green-500">
                    <polyline points="20 6 9 17 4 12"></polyline>
                  </svg>
                  <span>Copied!</span>
                `;
                setTimeout(() => {
                  copyBtn.innerHTML = `
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                      <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                      <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                    </svg>
                    <span>Copy</span>
                  `;
                }, 2000);
              } catch (err) {
                console.error('Failed to copy!', err);
              }
            });

            header.appendChild(copyBtn);

            const wrapper = document.createElement('div');
            wrapper.className = 'code-block-wrapper';

            block.parentNode.insertBefore(wrapper, block);
            wrapper.appendChild(header);
            wrapper.appendChild(block);
          }
        });
        window.scrollTo(0, 0);
      });
    })();
  </script>
</body>
</html>
